angular.module("starter").factory("Image",function($pwaRequest){var factory={value_id:null,displayed_per_page:0,extendedOptions:{}};return factory.setValueId=function(value_id){factory.value_id=value_id},factory.setExtendedOptions=function(options){factory.extendedOptions=options},factory.findAll=function(refresh){if(!this.value_id)return $pwaRequest.reject("[Factory::Image.findAll] missing value_id");if(void 0===refresh||!refresh){var payload=$pwaRequest.getPayloadForValueId(factory.value_id);if(!1!==payload)return $pwaRequest.resolve(payload)}return $pwaRequest.get("media/mobile_gallery_image_list/findall",angular.extend({urlParams:{value_id:this.value_id}},factory.extendedOptions))},factory.find=function(item,offset){return this.value_id?$pwaRequest.get("media/mobile_gallery_image_view/find",{urlParams:{value_id:this.value_id,gallery_id:item.id,offset:offset}}):$pwaRequest.reject("[Factory::Image.find] missing value_id")},factory.findFacebook=function(item,albumUrl){var localAlbumUrl=albumUrl;return"string"==typeof localAlbumUrl&&(localAlbumUrl=encodeURIComponent(btoa(localAlbumUrl))),$pwaRequest.get("media/mobile_gallery_image_view/findfacebook",{urlParams:{value_id:this.value_id,album_url:localAlbumUrl,gallery_id:item.id}})},factory});